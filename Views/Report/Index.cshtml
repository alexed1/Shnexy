
<h2>@ViewBag.Title</h2>
<script src="~/Scripts/DataTables-1.10.0/media/js/jquery.dataTables.js"></script>
<link href="~/Content/DataTables-1.10.0/media/css/jquery.dataTables.css" rel="stylesheet" />

<table id="tblusagereport" class="table">
    <thead>
        <tr>
            <th>Primary Category</th>
            <th>Secondary Category</th>
            <th>Activity</th>
            <th>Data</th>
        </tr>
    </thead>
</table>

<script type="text/javascript">
    //Document ready function, will run after page is ready and all elements are loaded.
    $(document).ready(function () {
        //Ajax call to get all unprocessed booking request from server.
        $.getJSON("/Report/ShowReportView", { queryPeriod: 'all', type: 'usage' }, showRequests);

        //Inserts retrieved booking request json into DataTable Widget
        function showRequests(response) {
            //alert(response);
            //This configuration supports two buttons (Invalid and Details) and several columns of data
            var table = $('#tblusagereport').DataTable({
                data: JSON.parse(response),
                order: [ 2, 'desc' ],
                columns: [
                    { data: 'primary_category' },
                    { data: 'secondary_category' },
                    { data: 'activity' },
                    { data: 'data' }
                ],
            });
        }
    });
</script>
